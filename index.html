<head>
<meta name="viewport" content="width=device-width">
<link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Anonymous+Pro" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
<h1>Minecraft Server</h1>
<ul class='log__list'>
</ul>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
$.get('latest.log', { "_": $.now() }, function (data) {
  arrayOfLines = data.match(/[^\r\n]+/g);
  arrayOfLines.reverse();
  for (var line of arrayOfLines) {
    console.log(line)
    time = line.split(' ', 1)
    time  = time[0].slice(1, -1)
    sender = line.split(/]: (.+)/)[1]
    sender = line.split(']:', 1)
    sender = sender[0].split('] [', 2)
    sender = sender[1]
    console.log(sender)
    text = line.split(/]: (.+)/)[1]
    $('.log__list').append('<li class="log__item"><span class="time">' + time + '</span><span class="' + sender.substring(sender.length - 4)+'">' + sender + '</span><span class="text">' + text + '</span></li>')
  }
});
</script>
